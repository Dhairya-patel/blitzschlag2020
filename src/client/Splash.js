import React, { Component } from 'react';
import './Splash.css';
let myHeaders = new Headers({
	'Access-Control-Allow-Origin': '*',
	"Set-Cookie": "HttpOnly;Secure;SameSite=None"
});
let options = {
	method: 'GET',
	mode: 'no-cors',
	cache: 'default',
	headers: myHeaders
};
const proxyurl = 'https://images.weserv.nl/?url=';
export default class App extends Component {
	state = { loaded: false, imageCount: 0, width: 0, dir: true };
	loadImage = () => {
		for (let i = 0; i < this.props.images.length; i++) {
			fetch(proxyurl + this.props.images[i], options)
				.then((res) => {
					console.log('Loaded ' + i);
					this.setState({ imageCount: this.state.imageCount + 1 });
					this.checkAll();
				})
				.catch((err) => {
					console.log(err);
				});
		}
	};
	checkAll = () => {
		const { imageCount } = this.state;
		if (imageCount == this.props.images.length) {
			setTimeout(() => {
				this.setState({ loaded: true });
				console.log('Loaded All');
			}, 1000);
		}
	};
	componentDidMount() {
		console.log(this.props);
		this.loadImage();
	}
	render() {
		if (this.state.loaded) {
			return <div></div>;
		}
		return (
			<div className="loader-container">
				<svg
					version="1.1"
					xmlns="http://www.w3.org/2000/svg"
					// width="644.24px"
					// width="30vw"
					height="470.53px"
					viewBox="0 0 644.24 470.53"
					className="loader-b"
					style={{enableBackground:'new 0 0 644.24 470.53'}}
				>
					<defs></defs>
					<path
						className="loader-b-path"
						d="M451.58,147.75c-0.71,1.11-1.4,2.23-2.12,3.34c-6.21,9.48-11.47,19.44-15.3,30.12c-0.55,1.54-1.11,3.08-1.57,4.64
	c-2.68,9.04-6.86,17.35-12.12,25.15c-4.76,7.06-10.23,13.55-16.14,19.66c-13.66,14.09-27.35,28.17-41.07,42.2
	c-11.27,11.53-22.63,22.97-33.92,34.49c-1.63,1.66-3.12,3.48-4.56,5.31c-0.56,0.71-0.98,1.61-1.18,2.5
	c-0.42,1.82,0.53,3.11,2.41,3.2c1.55,0.08,3.12-0.03,4.66-0.22c3.4-0.43,6.73-1.26,9.99-2.33c14.04-4.63,28.08-9.24,42.11-13.88
	c17.66-5.85,35.57-10.82,53.6-15.4c20.89-5.3,41.88-10.17,62.88-15.01c7.81-1.8,15.64-3.53,23.54-4.86
	c5.76-0.96,11.55-1.69,17.37-2.16c5.99-0.48,11.99-0.52,17.98-0.35c7.09,0.2,14.13,0.95,21.13,2.11c6.61,1.09,13.15,2.47,19.58,4.38
	c8.04,2.39,15.6,5.81,22.46,10.68c9.31,6.59,16.21,15.17,20.97,25.51c0.52,1.13,1.07,2.26,1.49,3.43c0.28,0.79,0.51,1.66,0.49,2.49
	c-0.05,1.67-0.84,2.95-2.46,3.63c-2.52,1.05-5.16,1.34-7.8,0.92c-6.07-0.97-12.16-1.79-18.1-3.45
	c-10.02-2.79-19.16-7.35-27.49-13.54c-4.33-3.21-8.87-6.05-13.77-8.31c-6.62-3.06-13.55-5.02-20.78-5.99
	c-7.62-1.03-15.21-0.9-22.83-0.08c-6.98,0.75-13.84,2.17-20.7,3.57c-16.77,3.42-33.46,7.25-50.05,11.45
	c-25.65,6.49-51.05,13.86-76.27,21.87c-26.84,8.53-53.4,17.9-79.87,27.53c-11.62,4.23-23.36,8.13-35.06,12.16
	c-4.3,1.48-8.76,2.14-13.3,2.26c-0.77,0.02-1.57-0.02-2.32-0.21c-1.37-0.34-2.05-1.53-1.61-2.87c0.28-0.88,0.72-1.73,1.23-2.5
	c1.85-2.81,4.06-5.32,6.51-7.62c17.49-16.42,34.99-32.84,52.48-49.26c13.34-12.53,26.77-24.98,40-37.63
	c13.29-12.71,25.98-26.01,37.91-40.02c6.31-7.42,12.25-15.13,18.13-22.89c12.18-16.08,24.47-32.08,36.71-48.11
	c1.52-1.99,3.29-3.74,5.22-5.33c0.4-0.33,0.86-0.59,1.28-0.88C451.39,147.53,451.49,147.64,451.58,147.75z M581.65,81.95
	c-6.49,1.27-12.99,2.48-19.46,3.85c-10.73,2.28-21.42,4.75-32.27,6.48c-8.23,1.31-16.5,2.33-24.8,3
	c-6.45,0.52-12.91,0.73-19.37,0.74c-6.78,0.02-13.56-0.15-20.31-0.77c-5.35-0.49-10.68-1.15-16-1.87
	c-9.42-1.27-18.88-2.12-28.38-2.51c-10.68-0.43-21.33-0.07-31.96,1.12c-8.45,0.95-16.78,2.45-25.01,4.58
	c-22.31,5.77-44.3,12.6-66.08,20.09c-19.06,6.56-37.88,13.77-56.68,21.03c-25.04,9.67-50.1,19.29-75.31,28.52
	c-24.96,9.13-50.31,16.83-76.42,21.93c-7.79,1.52-15.62,2.89-23.49,3.92c-6.1,0.8-12.21,1.48-18.33,2.04
	c-5.66,0.52-11.33,0.99-17.01,1.17c-6.54,0.2-13.08,0.07-19.63,0.05c-3.04-0.01-6.07-0.08-9.11-0.11c-0.54-0.01-1.09,0.02-1.62,0.11
	c-0.16,0.03-0.37,0.3-0.4,0.47c-0.02,0.18,0.13,0.52,0.27,0.55c0.67,0.18,1.35,0.34,2.04,0.4c2.72,0.24,5.43,0.42,8.15,0.64
	c9.55,0.78,19.13,1.11,28.71,1.19c9.19,0.08,18.38-0.17,27.55-0.78c5.28-0.35,10.58-0.62,15.84-1.16c7.28-0.75,14.54-1.67,21.8-2.6
	c8.8-1.13,17.54-2.69,26.24-4.43c16.87-3.36,33.54-7.58,50.09-12.26c18.94-5.36,37.69-11.35,56.47-17.25
	c20.41-6.41,40.81-12.88,61.28-19.08c22.36-6.78,45.02-12.36,68.22-15.47c6.49-0.87,12.98-1.65,19.53-1.79
	c6.71-0.15,13.39,0.15,19.99,1.54c4.38,0.92,8.54,2.4,12.18,5.09c3.97,2.94,6.56,6.79,7.69,11.63c0.87,3.71,0.78,7.41,0.12,11.13
	c-0.63,3.53-1.65,6.96-2.84,10.35c-1.34,3.82-2.73,7.62-4.08,11.43c-0.11,0.32-0.13,0.67-0.26,1.44c0.64-0.76,1-1.16,1.32-1.59
	c1.62-2.19,3.23-4.39,4.84-6.59c5.77-7.87,12.06-15.29,19.02-22.13c16.34-16.07,35.37-27.63,57.35-34.31
	c10.42-3.17,20.81-6.43,31.16-9.83c21.88-7.18,27.07-9.28,47.95-18.9c0.54-0.25,1.04-0.58,1.74-0.97
	C581.95,81.98,581.79,81.92,581.65,81.95z M213.8,470.35c3.97,0.08,7.94,0.18,11.91,0.18c1.39,0,2.79-0.24,4.18-0.4
	c1.39-0.17,2.77-0.47,4.16-0.57c6.99-0.5,13.97-1.13,20.91-2.08c9.11-1.24,18.13-2.92,27.08-5.01
	c18.99-4.43,37.39-10.66,55.34-18.26c29.23-12.37,56.66-27.94,82.56-46.24c23.98-16.94,46.26-35.9,67.24-56.4
	c3.79-3.7,7.55-7.43,11.23-11.24c3.41-3.54,3.69-7.36,1.02-11.46c-3.46-5.3-8.5-7.3-14.63-6.89c-3.84,0.26-7.25,1.74-10.3,4.03
	c-1.55,1.17-3.02,2.45-4.45,3.77c-19.65,18.22-39.27,36.47-58.93,54.67c-8.35,7.73-16.82,15.3-25.67,22.46
	c-26.62,21.54-55.92,38.34-88.15,50c-20.38,7.37-41.24,13.02-62.37,17.71c-6.61,1.47-13.27,2.69-19.77,4.62
	c-0.73,0.22-1.46,0.41-2.69,0.76C213.27,470.22,213.53,470.35,213.8,470.35z M235.6,133.33c8.55-3.11,17.06-6.33,25.66-9.29
	c3.7-1.27,5.94-3.51,6.62-7.34c0.01-0.08,0.03-0.15,0.05-0.23c4.31-18.32,8.65-36.64,12.91-54.97c2.27-9.77,4.44-19.57,6.52-29.38
	c1.12-5.27,1.53-10.63,1.2-16.02c-0.22-3.56-1.17-6.9-3.23-9.85c-2.83-4.05-6.76-6.09-11.68-6.23c-3.94-0.11-7.51,1.15-10.82,3.17
	c-5.2,3.17-9.06,7.55-11.63,13.06c-1.73,3.7-2.74,7.6-3.32,11.63c-0.57,4-1.14,8.01-1.7,12.02c-0.83,5.93-1.66,11.87-2.49,17.8
	c-0.85,6.09-1.69,12.18-2.55,18.26c-0.85,6.09-1.73,12.17-2.58,18.26c-0.86,6.16-1.7,12.33-2.55,18.5
	c-0.86,6.24-1.73,12.48-2.56,18.73c-0.11,0.83-0.34,1.67-0.08,2.67C234.15,133.82,234.88,133.59,235.6,133.33z M257.75,161.52
	c-1.85,0.61-3.69,1.22-5.52,1.88c-4.68,1.69-9.38,3.33-14.26,4.39c-0.91,0.2-1.79,0.52-2.67,0.84c-4,1.46-6.62,4.25-7.94,8.28
	c-0.22,0.66-0.44,1.34-0.55,2.02c-0.38,2.3-0.74,4.61-1.05,6.92c-0.73,5.4-1.42,10.8-2.14,16.2c-0.84,6.33-1.68,12.65-2.55,18.98
	c-0.86,6.25-1.75,12.49-2.64,18.73c-0.85,5.93-1.7,11.86-2.56,17.79c-0.86,5.93-1.72,11.86-2.57,17.79
	c-0.85,5.85-1.69,11.71-2.53,17.56c-0.86,6.01-1.73,12.02-2.59,18.03c-0.88,6.16-1.76,12.33-2.63,18.49
	c-0.84,5.93-1.67,11.87-2.51,17.8c-0.87,6.16-1.75,12.33-2.62,18.49c-0.85,6.01-1.69,12.02-2.54,18.03
	c-0.86,6.09-1.72,12.18-2.58,18.26c-0.85,6.01-1.7,12.02-2.55,18.03c-0.87,6.17-1.73,12.33-2.6,18.5
	c-0.65,4.62-1.29,9.25-1.92,13.88c-0.04,0.29-0.02,0.64,0.5,0.67c0.09-0.16,0.24-0.33,0.28-0.53
	c23.37-96.97,46.74-193.93,70.2-291.31C258.46,161.39,258.09,161.4,257.75,161.52z M426.2,41.69c-3.76,0.61-7.48,1.43-11.07,2.76
	c-3.61,1.34-6.94,3.17-9.71,5.87c-0.99,0.97-1.94,2.05-2.66,3.22c-2.05,3.32-1.86,7.02,0.67,9.98c3.08,3.6,6.73,6.47,11.47,7.61
	c2.04,0.49,4.08,0.99,6.14,1.37c4.97,0.91,9.95,1.78,14.93,2.61c1.14,0.19,2.32,0.25,3.48,0.25c4.05,0,8.08-0.35,12.07-1.06
	c5.88-1.04,11.42-2.99,16.5-6.16c1.59-0.99,3.09-2.1,4.28-3.57c3.18-3.88,3.12-9.33-0.23-13.05c-2.05-2.28-4.52-4.07-7.3-5.33
	c-8.26-3.74-16.94-5.61-26.59-5.54C434.52,40.54,430.35,41.02,426.2,41.69z"
					/>
				</svg>
			</div>
		);
	}
}
